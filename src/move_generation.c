#include "move_generation.h"
#include "types.h"



static const Bitboard pawn_move_table[COLOR_COUNT][SQUARE_COUNT] = {
    [COLOR_WHITE] = {
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000,
        0X0000000001010000, 0X0000000002020000, 0X0000000004040000, 0X0000000008080000, 0X0000000010100000, 0X0000000020200000, 0X0000000040400000, 0X0000000080800000,
        0X0000000001000000, 0X0000000002000000, 0X0000000004000000, 0X0000000008000000, 0X0000000010000000, 0X0000000020000000, 0X0000000040000000, 0X0000000080000000,
        0X0000000100000000, 0X0000000200000000, 0X0000000400000000, 0X0000000800000000, 0X0000001000000000, 0X0000002000000000, 0X0000004000000000, 0X0000008000000000,
        0X0000010000000000, 0X0000020000000000, 0X0000040000000000, 0X0000080000000000, 0X0000100000000000, 0X0000200000000000, 0X0000400000000000, 0X0000800000000000,
        0X0001000000000000, 0X0002000000000000, 0X0004000000000000, 0X0008000000000000, 0X0010000000000000, 0X0020000000000000, 0X0040000000000000, 0X0080000000000000,
        0X0100000000000000, 0X0200000000000000, 0X0400000000000000, 0X0800000000000000, 0X1000000000000000, 0X2000000000000000, 0X4000000000000000, 0X8000000000000000,
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000
    },

    [COLOR_BLACK] = {
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000,
        0X0000000000000001, 0X0000000000000002, 0X0000000000000004, 0X0000000000000008, 0X0000000000000010, 0X0000000000000020, 0X0000000000000040, 0X0000000000000080,
        0X0000000000000100, 0X0000000000000200, 0X0000000000000400, 0X0000000000000800, 0X0000000000001000, 0X0000000000002000, 0X0000000000004000, 0X0000000000008000,
        0X0000000000010000, 0X0000000000020000, 0X0000000000040000, 0X0000000000080000, 0X0000000000100000, 0X0000000000200000, 0X0000000000400000, 0X0000000000800000,
        0X0000000001000000, 0X0000000002000000, 0X0000000004000000, 0X0000000008000000, 0X0000000010000000, 0X0000000020000000, 0X0000000040000000, 0X0000000080000000,
        0X0000000100000000, 0X0000000200000000, 0X0000000400000000, 0X0000000800000000, 0X0000001000000000, 0X0000002000000000, 0X0000004000000000, 0X0000008000000000,
        0X0000010100000000, 0X0000020200000000, 0X0000040400000000, 0X0000080800000000, 0X0000101000000000, 0X0000202000000000, 0X0000404000000000, 0X0000808000000000,
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000
    }
};

static const Bitboard pawn_capture_table[COLOR_COUNT][SQUARE_COUNT] = {
    [COLOR_WHITE] = {
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000,
        0X0000000000020000, 0X0000000000050000, 0X00000000000A0000, 0X0000000000140000, 0X0000000000280000, 0X0000000000500000, 0X0000000000A00000, 0X0000000000400000,
        0X0000000002000000, 0X0000000005000000, 0X000000000A000000, 0X0000000014000000, 0X0000000028000000, 0X0000000050000000, 0X00000000A0000000, 0X0000000040000000,
        0X0000000200000000, 0X0000000500000000, 0X0000000A00000000, 0X0000001400000000, 0X0000002800000000, 0X0000005000000000, 0X000000A000000000, 0X0000004000000000,
        0X0000020000000000, 0X0000050000000000, 0X00000A0000000000, 0X0000140000000000, 0X0000280000000000, 0X0000500000000000, 0X0000A00000000000, 0X0000400000000000,
        0X0002000000000000, 0X0005000000000000, 0X000A000000000000, 0X0014000000000000, 0X0028000000000000, 0X0050000000000000, 0X00A0000000000000, 0X0040000000000000,
        0X0200000000000000, 0X0500000000000000, 0X0A00000000000000, 0X1400000000000000, 0X2800000000000000, 0X5000000000000000, 0XA000000000000000, 0X4000000000000000,
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000
    },

    [COLOR_BLACK] = {
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000,
        0X0000000000000002, 0X0000000000000005, 0X000000000000000A, 0X0000000000000014, 0X0000000000000028, 0X0000000000000050, 0X00000000000000A0, 0X0000000000000040,
        0X0000000000000200, 0X0000000000000500, 0X0000000000000A00, 0X0000000000001400, 0X0000000000002800, 0X0000000000005000, 0X000000000000A000, 0X0000000000004000,
        0X0000000000020000, 0X0000000000050000, 0X00000000000A0000, 0X0000000000140000, 0X0000000000280000, 0X0000000000500000, 0X0000000000A00000, 0X0000000000400000,
        0X0000000002000000, 0X0000000005000000, 0X000000000A000000, 0X0000000014000000, 0X0000000028000000, 0X0000000050000000, 0X00000000A0000000, 0X0000000040000000,
        0X0000000200000000, 0X0000000500000000, 0X0000000A00000000, 0X0000001400000000, 0X0000002800000000, 0X0000005000000000, 0X000000A000000000, 0X0000004000000000,
        0X0000020000000000, 0X0000050000000000, 0X00000A0000000000, 0X0000140000000000, 0X0000280000000000, 0X0000500000000000, 0X0000A00000000000, 0X0000400000000000,
        0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000, 0X0000000000000000
    }
};

static const Bitboard knight_move_table[SQUARE_COUNT] = {
    0X0000000000020400, 0X0000000000050800, 0X00000000000A1100, 0X0000000000142200, 0X0000000000284400, 0X0000000000508800, 0X0000000000A01000, 0X0000000000402000,
    0X0000000002040004, 0X0000000005080008, 0X000000000A110011, 0X0000000014220022, 0X0000000028440044, 0X0000000050880088, 0X00000000A0100010, 0X0000000040200020,
    0X0000000204000402, 0X0000000508000805, 0X0000000A1100110A, 0X0000001422002214, 0X0000002844004428, 0X0000005088008850, 0X000000A0100010A0, 0X0000004020002040,
    0X0000020400040200, 0X0000050800080500, 0X00000A1100110A00, 0X0000142200221400, 0X0000284400442800, 0X0000508800885000, 0X0000A0100010A000, 0X0000402000204000,
    0X0002040004020000, 0X0005080008050000, 0X000A1100110A0000, 0X0014220022140000, 0X0028440044280000, 0X0050880088500000, 0X00A0100010A00000, 0X0040200020400000,
    0X0204000402000000, 0X0508000805000000, 0X0A1100110A000000, 0X1422002214000000, 0X2844004428000000, 0X5088008850000000, 0XA0100010A0000000, 0X4020002040000000,
    0X0400040200000000, 0X0800080500000000, 0X1100110A00000000, 0X2200221400000000, 0X4400442800000000, 0X8800885000000000, 0X100010A000000000, 0X2000204000000000,
    0X0004020000000000, 0X0008050000000000, 0X00110A0000000000, 0X0022140000000000, 0X0044280000000000, 0X0088500000000000, 0X0010A00000000000, 0X0020400000000000
};

static const Bitboard bishop_move_table[SQUARE_COUNT] = {
    0X8040201008040200, 0X0080402010080500, 0X0000804020110A00, 0X0000008041221400, 0X0000000182442800, 0X0000010204885000, 0X000102040810A000, 0X0102040810204000,
    0X4020100804020002, 0X8040201008050005, 0X00804020110A000A, 0X0000804122140014, 0X0000018244280028, 0X0001020488500050, 0X0102040810A000A0, 0X0204081020400040,
    0X2010080402000204, 0X4020100805000508, 0X804020110A000A11, 0X0080412214001422, 0X0001824428002844, 0X0102048850005088, 0X02040810A000A010, 0X0408102040004020,
    0X1008040200020408, 0X2010080500050810, 0X4020110A000A1120, 0X8041221400142241, 0X0182442800284482, 0X0204885000508804, 0X040810A000A01008, 0X0810204000402010,
    0X0804020002040810, 0X1008050005081020, 0X20110A000A112040, 0X4122140014224180, 0X8244280028448201, 0X0488500050880402, 0X0810A000A0100804, 0X1020400040201008,
    0X0402000204081020, 0X0805000508102040, 0X110A000A11204080, 0X2214001422418000, 0X4428002844820100, 0X8850005088040201, 0X10A000A010080402, 0X2040004020100804,
    0X0200020408102040, 0X0500050810204080, 0X0A000A1120408000, 0X1400142241800000, 0X2800284482010000, 0X5000508804020100, 0XA000A01008040201, 0X4000402010080402,
    0X0002040810204080, 0X0005081020408000, 0X000A112040800000, 0X0014224180000000, 0X0028448201000000, 0X0050880402010000, 0X00A0100804020100, 0X0040201008040201
};

static const Bitboard rook_move_table[SQUARE_COUNT] = {
    0X01010101010101FE, 0X02020202020202FD, 0X04040404040404FB, 0X08080808080808F7, 0X10101010101010EF, 0X20202020202020DF, 0X40404040404040BF, 0X808080808080807F,
    0X010101010101FE01, 0X020202020202FD02, 0X040404040404FB04, 0X080808080808F708, 0X101010101010EF10, 0X202020202020DF20, 0X404040404040BF40, 0X8080808080807F80,
    0X0101010101FE0101, 0X0202020202FD0202, 0X0404040404FB0404, 0X0808080808F70808, 0X1010101010EF1010, 0X2020202020DF2020, 0X4040404040BF4040, 0X80808080807F8080,
    0X01010101FE010101, 0X02020202FD020202, 0X04040404FB040404, 0X08080808F7080808, 0X10101010EF101010, 0X20202020DF202020, 0X40404040BF404040, 0X808080807F808080,
    0X010101FE01010101, 0X020202FD02020202, 0X040404FB04040404, 0X080808F708080808, 0X101010EF10101010, 0X202020DF20202020, 0X404040BF40404040, 0X8080807F80808080,
    0X0101FE0101010101, 0X0202FD0202020202, 0X0404FB0404040404, 0X0808F70808080808, 0X1010EF1010101010, 0X2020DF2020202020, 0X4040BF4040404040, 0X80807F8080808080,
    0X01FE010101010101, 0X02FD020202020202, 0X04FB040404040404, 0X08F7080808080808, 0X10EF101010101010, 0X20DF202020202020, 0X40BF404040404040, 0X807F808080808080,
    0XFE01010101010101, 0XFD02020202020202, 0XFB04040404040404, 0XF708080808080808, 0XEF10101010101010, 0XDF20202020202020, 0XBF40404040404040, 0X7F80808080808080
};

static const Bitboard queen_move_table[SQUARE_COUNT] = {
    bishop_move_table[0] | rook_move_table[0],
    bishop_move_table[1] | rook_move_table[1],
    bishop_move_table[2] | rook_move_table[2],
    bishop_move_table[3] | rook_move_table[3],
    bishop_move_table[4] | rook_move_table[4],
    bishop_move_table[5] | rook_move_table[5],
    bishop_move_table[6] | rook_move_table[6],
    bishop_move_table[7] | rook_move_table[7],
    bishop_move_table[8] | rook_move_table[8],
    bishop_move_table[9] | rook_move_table[9],
    bishop_move_table[10] | rook_move_table[10],
    bishop_move_table[11] | rook_move_table[11],
    bishop_move_table[12] | rook_move_table[12],
    bishop_move_table[13] | rook_move_table[13],
    bishop_move_table[14] | rook_move_table[14],
    bishop_move_table[15] | rook_move_table[15],
    bishop_move_table[16] | rook_move_table[16],
    bishop_move_table[17] | rook_move_table[17],
    bishop_move_table[18] | rook_move_table[18],
    bishop_move_table[19] | rook_move_table[19],
    bishop_move_table[20] | rook_move_table[20],
    bishop_move_table[21] | rook_move_table[21],
    bishop_move_table[22] | rook_move_table[22],
    bishop_move_table[23] | rook_move_table[23],
    bishop_move_table[24] | rook_move_table[24],
    bishop_move_table[25] | rook_move_table[25],
    bishop_move_table[26] | rook_move_table[26],
    bishop_move_table[27] | rook_move_table[27],
    bishop_move_table[28] | rook_move_table[28],
    bishop_move_table[29] | rook_move_table[29],
    bishop_move_table[30] | rook_move_table[30],
    bishop_move_table[31] | rook_move_table[31],
    bishop_move_table[32] | rook_move_table[32],
    bishop_move_table[33] | rook_move_table[33],
    bishop_move_table[34] | rook_move_table[34],
    bishop_move_table[35] | rook_move_table[35],
    bishop_move_table[36] | rook_move_table[36],
    bishop_move_table[37] | rook_move_table[37],
    bishop_move_table[38] | rook_move_table[38],
    bishop_move_table[39] | rook_move_table[39],
    bishop_move_table[40] | rook_move_table[40],
    bishop_move_table[41] | rook_move_table[41],
    bishop_move_table[42] | rook_move_table[42],
    bishop_move_table[43] | rook_move_table[43],
    bishop_move_table[44] | rook_move_table[44],
    bishop_move_table[45] | rook_move_table[45],
    bishop_move_table[46] | rook_move_table[46],
    bishop_move_table[47] | rook_move_table[47],
    bishop_move_table[48] | rook_move_table[48],
    bishop_move_table[49] | rook_move_table[49],
    bishop_move_table[50] | rook_move_table[50],
    bishop_move_table[51] | rook_move_table[51],
    bishop_move_table[52] | rook_move_table[52],
    bishop_move_table[53] | rook_move_table[53],
    bishop_move_table[54] | rook_move_table[54],
    bishop_move_table[55] | rook_move_table[55],
    bishop_move_table[56] | rook_move_table[56],
    bishop_move_table[57] | rook_move_table[57],
    bishop_move_table[58] | rook_move_table[58],
    bishop_move_table[59] | rook_move_table[59],
    bishop_move_table[60] | rook_move_table[60],
    bishop_move_table[61] | rook_move_table[61],
    bishop_move_table[62] | rook_move_table[62],
    bishop_move_table[63] | rook_move_table[63]
};

static const Bitboard king_move_table[SQUARE_COUNT] = {
    0X0000000000000302, 0X0000000000000705, 0X0000000000000E0A, 0X0000000000001C14, 0X0000000000003828, 0X0000000000007050, 0X000000000000E0A0, 0X000000000000C040,
    0X0000000000030203, 0X0000000000070507, 0X00000000000E0A0E, 0X00000000001C141C, 0X0000000000382838, 0X0000000000705070, 0X0000000000E0A0E0, 0X0000000000C040C0,
    0X0000000003020300, 0X0000000007050700, 0X000000000E0A0E00, 0X000000001C141C00, 0X0000000038283800, 0X0000000070507000, 0X00000000E0A0E000, 0X00000000C040C000,
    0X0000000302030000, 0X0000000705070000, 0X0000000E0A0E0000, 0X0000001C141C0000, 0X0000003828380000, 0X0000007050700000, 0X000000E0A0E00000, 0X000000C040C00000,
    0X0000030203000000, 0X0000070507000000, 0X00000E0A0E000000, 0X00001C141C000000, 0X0000382838000000, 0X0000705070000000, 0X0000E0A0E0000000, 0X0000C040C0000000,
    0X0003020300000000, 0X0007050700000000, 0X000E0A0E00000000, 0X001C141C00000000, 0X0038283800000000, 0X0070507000000000, 0X00E0A0E000000000, 0X00C040C000000000,
    0X0302030000000000, 0X0705070000000000, 0X0E0A0E0000000000, 0X1C141C0000000000, 0X3828380000000000, 0X7050700000000000, 0XE0A0E00000000000, 0XC040C00000000000,
    0X0203000000000000, 0X0507000000000000, 0X0A0E000000000000, 0X141C000000000000, 0X2838000000000000, 0X5070000000000000, 0XA0E0000000000000, 0X40C0000000000000
};
